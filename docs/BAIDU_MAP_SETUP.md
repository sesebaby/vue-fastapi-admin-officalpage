# 百度地图API配置指南

本文档说明如何为苏州思普微电子科技有限公司官网配置百度地图JavaScript API。

## 1. 申请百度地图API密钥

### 步骤1：注册百度开发者账号
1. 访问 [百度地图开放平台](https://lbsyun.baidu.com/)
2. 点击右上角"登录"，使用百度账号登录
3. 如果没有百度账号，请先注册

### 步骤2：创建应用
1. 登录后，进入"控制台"
2. 点击"创建应用"
3. 填写应用信息：
   - **应用名称**：苏州思普微电子科技有限公司官网
   - **应用类型**：浏览器端
   - **Referer白名单**：
     - `http://localhost:*` (开发环境)
     - `https://yourdomain.com/*` (生产环境，替换为实际域名)
     - `*` (如果需要允许所有域名，不推荐用于生产环境)

### 步骤3：获取API密钥
1. 创建应用后，系统会生成一个AK（API Key）
2. 复制这个AK，稍后需要配置到项目中

## 2. 配置项目

### 步骤1：设置环境变量
1. 在项目根目录找到 `.env.local` 文件
2. 将 `your_api_key_here` 替换为您申请到的API密钥：

```bash
# 百度地图API配置
VITE_BAIDU_MAP_API_KEY=您的API密钥

# 公司位置信息
VITE_COMPANY_NAME=苏州思普微电子科技有限公司
VITE_COMPANY_ADDRESS=江苏省苏州市吴江区东太湖生态旅游度假区体育路508号金鹰商业中心2,3幢3幢1911
VITE_COMPANY_LONGITUDE=120.6357
VITE_COMPANY_LATITUDE=31.1515
```

### 步骤2：重启开发服务器
```bash
cd web
npm run dev
```

## 3. 功能说明

### 地图功能
- **交互式地图**：支持缩放、拖拽、双击放大等操作
- **公司位置标记**：在地图上精确标注公司位置
- **信息窗口**：点击标记显示公司详细信息
- **地图控件**：包含缩放控件和比例尺控件

### 现有功能保持
- **在地图中查看**：跳转到百度地图网页版查看详细位置
- **复制地址**：一键复制公司完整地址到剪贴板

## 4. 坐标说明

项目中使用的坐标为百度地图BD09坐标系：
- **经度**：120.6357
- **纬度**：31.1515
- **位置**：江苏省苏州市吴江区东太湖生态旅游度假区体育路508号金鹰商业中心

如需调整位置，请修改 `.env.local` 文件中的坐标值。

## 5. 错误处理

### 常见问题
1. **地图无法加载**
   - 检查API密钥是否正确配置
   - 检查域名是否在Referer白名单中
   - 检查网络连接是否正常

2. **API配额超限**
   - 百度地图API有使用配额限制
   - 可在控制台查看使用情况
   - 如需提升配额，请联系百度地图客服

3. **坐标偏移**
   - 确保使用BD09坐标系
   - 如使用其他坐标系，需要进行坐标转换

## 6. 技术实现

### 核心技术
- **Vue 3 Composition API**：响应式状态管理
- **百度地图JavaScript API v3.0**：地图渲染和交互
- **动态加载**：按需加载百度地图API，避免影响页面性能
- **错误处理**：完善的错误处理和降级方案

### 文件结构
```
web/src/components/sections/ContactSection.vue  # 联系我们组件
.env.local                                       # 环境变量配置
docs/BAIDU_MAP_SETUP.md                        # 本配置文档
```

## 7. 部署注意事项

### 生产环境配置
1. 确保生产环境域名已添加到Referer白名单
2. 使用HTTPS协议访问，确保地图API正常加载
3. 监控API使用量，避免超出配额限制

### 安全建议
- 不要将API密钥提交到公开的代码仓库
- 使用Referer白名单限制API密钥的使用范围
- 定期检查API使用情况，防止异常调用

## 8. 联系支持

如遇到技术问题，可通过以下方式获取支持：
- [百度地图API官方文档](https://lbsyun.baidu.com/index.php?title=jspopular3.0)
- [百度地图开发者论坛](https://bbs.lbsyun.baidu.com/)
- 百度地图客服热线：400-099-8998
